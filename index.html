<!DOCTYPE html>
<html lang="en">

<head>

    <title>Tarot-o-bot</title>
    <meta name="description" content="Let our tarot-reader predict your digital future.">
    <meta property="og:locate" content="en_US" />
    <meta property="og:site_name" content="tarotobot.illo.tv" />
    <meta property="og:title" content="Tarot-o-bot" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="Let our tarot-reader predict your digital future." />
    <meta property="og:image" content="https://tarotobot.illo.tv/includes/images/OG/tarotobot.png" />
    <meta property="og:url" content="https://tarotobot.illo.tv/" />

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=1">

    <link rel="icon" href="./includes/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="./includes/images/favicon-32x32.png" type="image/png" sizes="32x32">
    <link rel="icon" href="./includes/images/favicon-16x16.png" type="image/png" sizes="16x16">

    <link rel="stylesheet" type="text/css" href="./includes/CSS/brillo7.css">
    <link rel="stylesheet" type="text/css" href="./includes/fonts/stylesheet.css">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- Êú¨Âú∞ÈõÜÊàêÔºöÁ°Æ‰øùË°®ÂçïÂèØ‰∫§‰∫íÔºàÈÅøÂÖçÂä®Áîª/Á≤íÂ≠êÂ±ÇÈÅÆÊå°ÁÇπÂáª‰∏éËæìÂÖ•ÁÑ¶ÁÇπÔºâ -->
    <style>
        #anim_container,
        #particles-js {
            pointer-events: none;
        }

        #page0 {
            position: relative;
            z-index: 10;
        }
    </style>

    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-MHMDVG6');</script>
    <!-- End Google Tag Manager -->

</head>

<body>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MHMDVG6" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div id="anim_container"></div>

    <div id="particles-js"></div>

    <div class="icons" id="left_up">
        <img src="./includes/images/icon1_viola.gif" style="width: 100%;">
    </div>

    <div class="icons" id="left_bottom">
        <img src="./includes/images/icon2_viola.gif" style="width: 100%;">
    </div>

    <div class="icons" id="right_up">
        <img src="./includes/images/icon3_viola.gif" style="width: 100%;">
    </div>

    <div class="icons" id="right_bottom">
        <img src="./includes/images/icon4_viola.gif" style="width: 100%;">
    </div>

    <!-- Êñ∞Â¢ûÔºöÁî®Êà∑ËæìÂÖ•Ë°®ÂçïÈ°µÈù¢ -->
    <div id="page0" style="display: none; position: relative; z-index: 10;">
        <div class="main_content" id="p0_main_content">
            <div class="main_text" id="p0_title">
                <span class="rainbow">üîÆ ÂëΩÂÖÉÂΩïÂÖ• üîÆ</span>
            </div>
            
            <div class="form-group">
                <label class="form-label">ÂßìÂêç</label>
                <input type="text" id="user_name" placeholder="ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÂßìÂêç" class="form-input">
            </div>
            
            <div class="form-group">
                <label class="form-label">Âá∫ÁîüÊó•Êúü</label>
                <div id="date_picker">
                    <!-- Âπ¥‰ªΩÈÄâÊã©Âô® -->
                    <div class="picker-column">
                        <div class="picker-label">Âπ¥</div>
                        <div class="picker-wheel" id="year_picker">
                            <div class="picker-items" id="year_items"></div>
                        </div>
                    </div>
                    <!-- Êúà‰ªΩÈÄâÊã©Âô® -->
                    <div class="picker-column">
                        <div class="picker-label">Êúà</div>
                        <div class="picker-wheel" id="month_picker">
                            <div class="picker-items" id="month_items"></div>
                        </div>
                    </div>
                    <!-- Êó•ÊúüÈÄâÊã©Âô® -->
                    <div class="picker-column">
                        <div class="picker-label">Êó•</div>
                        <div class="picker-wheel" id="day_picker">
                            <div class="picker-items" id="day_items"></div>
                        </div>
                    </div>
                    <!-- ÈÄâ‰∏≠ÊåáÁ§∫Á∫ø -->
                    <div class="picker-mask"></div>
                </div>
                <input type="hidden" id="user_birth" value="">
            </div>
            
            <div class="form-group">
                <label class="form-label">ÊÇ®ÊÉ≥ÈóÆÁöÑÈóÆÈ¢ò</label>
                <textarea id="user_question" rows="5" placeholder="‰æãÂ¶ÇÔºöÊàë‰ªäÂ§©ÂéªË∞àÂÆ¢Êà∑ÔºåÁ©ø‰ªÄ‰πàÈ¢úËâ≤ÁöÑË°£ÊúçËÉΩÊó∫Ë¥¢ËøêÔºü" class="form-textarea"></textarea>
            </div>
            
            <div id="p0_enter_btn" class="brillo_btn submit-btn">
                ÂºÄÂßãÂç†Âçú </br>
                <img src="./includes/images/arrow_left_grey.png" class="btn_icon">
            </div>
            
            <div id="p0_loading" class="loading-indicator">
                <div class="loading-icon">üîÆ</div>
                Ê≠£Âú®ÂáÜÂ§áÂ°îÁΩóÁâå...
            </div>
        </div>
    </div>
    
    <style>
        /* Ë°®ÂçïÂÆπÂô® */
        #p0_main_content {
            max-width: 700px;
            margin: 0 auto;
            padding: 60px 40px;
            background: rgba(0,0,0,0.7);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(197, 163, 216, 0.3);
            box-shadow: 0 8px 32px rgba(0,0,0,0.5);
        }
        
        /* Ê†áÈ¢ò */
        #p0_title {
            margin-bottom: 40px;
            text-align: center;
            font-size: 32px;
            color: #C5A3D8;
            text-shadow: 0 0 20px rgba(197, 163, 216, 0.5);
        }
        
        /* Ë°®ÂçïÁªÑ */
        .form-group {
            margin-bottom: 25px;
        }
        
        /* Ê†áÁ≠æ */
        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #E6E6E6;
            font-size: 16px;
            font-weight: bold;
        }
        
        /* ËæìÂÖ•Ê°Ü */
        .form-input,
        .form-textarea {
            width: 100%;
            padding: 18px;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(197, 163, 216, 0.4);
            color: #E6E6E6;
            font-size: 16px;
            border-radius: 8px;
            font-family: inherit;
            transition: all 0.3s;
            box-sizing: border-box;
        }
        
        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }
        
        .form-input:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #C5A3D8 !important;
            box-shadow: 0 0 15px rgba(197, 163, 216, 0.5) !important;
            background: rgba(255,255,255,0.15) !important;
        }
        
        .form-input::placeholder,
        .form-textarea::placeholder {
            color: rgba(255,255,255,0.5);
        }
        
        /* Êó•ÊúüÈÄâÊã©Âô®ÂÆπÂô® */
        #date_picker {
            width: 100%;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(197, 163, 216, 0.4);
            border-radius: 8px;
            box-sizing: border-box;
            display: flex;
            justify-content: space-around;
            align-items: center;
            position: relative;
        }
        
        .picker-column {
            flex: 1;
            text-align: center;
        }
        
        .picker-label {
            color: #C5A3D8;
            font-size: 14px;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .picker-wheel {
            height: 200px;
            overflow: hidden;
            position: relative;
            cursor: grab;
        }
        
        .picker-wheel:active {
            cursor: grabbing;
        }
        
        .picker-items {
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.3s ease-out;
        }
        
        .picker-item {
            height: 50px;
            line-height: 50px;
            font-size: 18px;
            color: rgba(230, 230, 230, 0.5);
            transition: all 0.2s;
            user-select: none;
            min-width: 60px;
        }
        
        .picker-item.selected {
            color: #C5A3D8;
            font-size: 22px;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(197, 163, 216, 0.5);
        }
        
        .picker-wheel::before,
        .picker-wheel::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            height: 75px;
            pointer-events: none;
            z-index: 1;
        }
        
        .picker-wheel::before {
            top: 0;
            background: linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, transparent 100%);
        }
        
        .picker-wheel::after {
            bottom: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, transparent 100%);
        }
        
        .picker-mask {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 50px;
            margin-top: -25px;
            pointer-events: none;
            border-top: 2px solid rgba(197, 163, 216, 0.5);
            border-bottom: 2px solid rgba(197, 163, 216, 0.5);
            background: rgba(197, 163, 216, 0.1);
        }
        
        /* Êèê‰∫§ÊåâÈíÆ */
        .submit-btn {
            cursor: pointer;
            width: 100%;
            text-align: center;
            margin-top: 20px;
            background: linear-gradient(135deg, #C5A3D8 0%, #9B7BB8 100%);
            border: none;
            box-shadow: 0 4px 15px rgba(197, 163, 216, 0.4);
            transition: all 0.3s;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(197, 163, 216, 0.6) !important;
        }
        
        /* Âä†ËΩΩÊåáÁ§∫Âô® */
        .loading-indicator {
            display: none;
            margin-top: 25px;
            text-align: center;
            color: #FEB420;
            font-size: 16px;
            animation: pulse 2s infinite;
        }
        
        .loading-icon {
            margin-bottom: 10px;
            font-size: 24px;
        }
        
        /* ËÑâÂÜ≤Âä®Áîª */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }
        
        /* ÁßªÂä®Á´ØÈÄÇÈÖç */
        @media (max-width: 768px) {
            #p0_main_content {
                padding: 30px 20px;
                margin: 10px;
                border-radius: 15px;
            }
            
            #p0_title {
                font-size: 24px;
                margin-bottom: 30px;
            }
            
            .form-label {
                font-size: 14px;
                margin-bottom: 6px;
            }
            
            .form-input,
            .form-textarea {
                padding: 14px;
                font-size: 16px; /* Èò≤Ê≠¢iOSËá™Âä®Áº©Êîæ */
            }
            
            .form-textarea {
                min-height: 100px;
            }
            
            #date_picker {
                padding: 15px 10px;
            }
            
            .picker-label {
                font-size: 12px;
                margin-bottom: 8px;
            }
            
            .picker-wheel {
                height: 150px;
            }
            
            .picker-item {
                height: 40px;
                line-height: 40px;
                font-size: 16px;
                min-width: 50px;
            }
            
            .picker-item.selected {
                font-size: 18px;
            }
            
            .picker-mask {
                height: 40px;
                margin-top: -20px;
            }
            
            .picker-wheel::before,
            .picker-wheel::after {
                height: 55px;
            }
            
            .submit-btn {
                padding: 15px;
                font-size: 16px;
            }
            
            .loading-indicator {
                font-size: 14px;
            }
            
            .loading-icon {
                font-size: 20px;
            }
        }
        
        /* Â∞èÂ±èÂπïÊâãÊú∫ÈÄÇÈÖç */
        @media (max-width: 480px) {
            #p0_main_content {
                padding: 20px 15px;
                margin: 5px;
            }
            
            #p0_title {
                font-size: 20px;
                margin-bottom: 20px;
            }
            
            .form-group {
                margin-bottom: 20px;
            }
            
            .form-input,
            .form-textarea {
                padding: 12px;
                font-size: 16px;
            }
            
            #date_picker {
                padding: 12px 8px;
            }
            
            .picker-wheel {
                height: 120px;
            }
            
            .picker-item {
                height: 35px;
                line-height: 35px;
                font-size: 14px;
            }
            
            .picker-item.selected {
                font-size: 16px;
            }
            
            .picker-mask {
                height: 35px;
                margin-top: -17.5px;
            }
        }
        
        /* Ê®™Â±èÈÄÇÈÖç */
        @media (max-width: 768px) and (orientation: landscape) {
            #p0_main_content {
                padding: 20px 30px;
            }
            
            .picker-wheel {
                height: 120px;
            }
        }
    </style>

    <div id="page1">

        <div id="title_colored">
            <img src="./includes/images/header.gif" id="header_gif">
        </div>

        <div class="vertical_container">
            <a href="https://illo.tv">
                <div id="left_link" class="vertical">illo.tv</div>
            </a>
        </div>

        <div class="vertical_container">
            <a href="./tarots/">
                <div id="right_link" class="vertical">The Tarots</div>
            </a>
        </div>

        <div id="bottom_link">

            <div id="join">Try our new Tarot-o-bot ‚Äî Reboot!
            </div>

        </div>

        <div class="main_content" id="p1_main_content">

            <div class="main_text">Dear <span class="rainbow">Tarot-o-bot</span>, mother of tech updates and
                design trends,
                <u>what do you foresee for our future</u>?
            </div></br></br>
            <div id="p1_enter_btn" class="brillo_btn">
                Press Enter </br>
                <img src="./includes/images/arrow_left_grey.png" class="btn_icon">
            </div>

        </div>

    </div>


    <div id="page2">

        <div class="main_content" id="p2_main_content">
            <div class="main_text">

                <span style="color:#FEB420" class="rainbow">Brillo</span> is our traditional birthday party we do every
                other year: we call it Brillo because in Italian it means both ‚ÄúI sparkle‚Äù and ‚Äúdrunk‚Äù ‚Äî two perfect
                features for any <a href="https://illo.tv">illo.tv</a> party!
            </div></br></br></br>

            <div class="secondary_text">

                <span style="color:#FEB420"><a href="https://stories.illo.tv/brillo7-8aacccb682cc">Here‚Äôs a little recap
                        of the party.</a></span>

                </br></br>
            </div></br>

            <div class="secondary_text">

                Follow us on <a href="https://www.instagram.com/illotv/">Instagram</a> and be the first to know about
                our next party!

            </div></br></br></br>

            <div class="secondary_text">

                As seen on the news:<br>
                <a
                    href="https://www.commarts.com/webpicks/tarot-o-bot?utm_source=Communication+Arts+Daily&utm_campaign=f8a66ea1ff-RSS_EMAIL_CAMPAIGN&utm_medium=email&utm_term=0_a6a0e887e3-f8a66ea1ff-36437509">Communication
                    Arts</a> ‚Äî <a href="https://thefwa.com/article/insights-tarot-o-bot">FWA</a> ‚Äî Web Designer Magazine
                ‚Äî <a
                    href="https://www.frizzifrizzi.it/2019/07/17/tarot-o-bot-predice-il-futuro-dellindustria-creativa/">Frizzifrizzi</a>
                ‚Äî <a href="https://www.feeldesain.com/illo-studio-prediction-generator.html">Feel Desain</a> ‚Äî <a
                    href="https://hoppipolla.it/blog/qual-e-il-futuro-dellindustria-creativa/?fbclid=IwAR2F8t32GMY6b2yjSQeJb7-twFB0zRurTEHywE-hayVSk9fMNIxwUJNwn5w">Hopp√¨polla</a>
                ‚Äî <a href="https://www.awwwards.com/sites/tarot-o-bot">Awwwards</a> ‚Äî <a
                    href="https://www.cssdesignawards.com/sites/tarot-o-bot/35481/">CSS Design Awards</a> ‚Äî <a
                    href="https://award.ddd.it/project/siti-web/tarot-o-bot">Digital Design Awards</a> ‚Äî <a
                    href="https://thefwa.com/cases/tarot-o-bot">FWA of the day</a>
                </br></br></br>
            </div>

            <div style="display: none;">
                <div>
                    <input id="invitee_email" class="main_text" type="email" placeholder="Your email here">
                </div>

                <div id="p2_buttons">
                    <div id="p2_enter_btn" class="brillo_btn">
                        Press Enter </br>
                        <img src="./includes/images/arrow_left_black.png" class="btn_icon">
                    </div></br>

                    <div id="email_answer_div" class="brillo_btn" style="display:none;">
                        <span id="email_answer_text"></span>
                    </div>

                </div>
            </div>

        </div>


    </div>

</body>

<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-60264431-1', 'auto');
    ga('send', 'pageview');
</script>

<script src="./includes/anims/lottie.js" type="text/javascript"></script>
<script src="./includes/js/particles.min.js"></script>

<script type="text/javascript">
    $(document).ready(function () {

        // Firefox 1.0+
        var isFirefox = typeof InstallTrigger !== 'undefined';

        // Safari 3.0+ "[object HTMLElementConstructor]" 
        var isSafari = /constructor/i.test(window.HTMLElement) || (function (p) {
            return p.toString() === "[object SafariRemoteNotification]";
        })(!window['safari'] || (typeof safari !== 'undefined' && safari.pushNotification));

        // Internet Explorer 6-11
        var isIE = /*@cc_on!@*/ false || !!document.documentMode;

        // Chrome 1 - 71
        var isChrome = !!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime);

        /*
        console.log("firefox:" + isFirefox);
        console.log("chrome:" + isChrome);
        console.log("safari:" + isSafari);
        console.log("IE:" + isIE);*/

        if (isIE) {
            $("#page1 .main_text").text(
                "Sorry, this experience is not available in Internet Explorer, Use another browser please.");
            $("#p1_enter_btn").hide();
            $("#right_link").css("pointer-events", "none");
        }

        var is_mobile = $(window).width() < 1024 ? true : false;

        if (is_mobile) {
            // if in mobile
            particlesJS.load('particles-js', './includes/js/particles_mobile.json', function () { });

        } else {
            run_animation();
            particlesJS.load('particles-js', './includes/js/particles.json', function () { });
            //if not in mobile
        }

        function run_animation() {
            var aspectRatio = $(window).width() / $(window).height();

            var animData = {
                container: document.getElementById('anim_container'),
                renderer: 'svg',
                autoplay: true,
                loop: true,
                rendererSettings: {
                    preserveAspectRatio: 'xMidYMid slice'
                },
                path: './includes/anims/website_page.json'
                //animationData: animationData
            };

            $("#anim_container").css("z-index", 0);
            var anim = bodymovin.loadAnimation(animData);
            //anim.addEventListener('complete', hide_bodymovin);
        }

        function hide_bodymovin() {
            bodymovin.destroy();
            $("#anim_container").css("z-index", -1);
        }

        $("#join").click(function () {
            // Êú¨Âú∞ÁâàÊú¨ÔºöË∑≥Âà∞ÂÜÖÈÉ®ÁöÑÂç†ÂçúÁªìÊûúÈ°µÈù¢ÔºåËÄå‰∏çÊòØÂ§ñÈÉ®Á´ôÁÇπ
            window.location = "./prediction/17/index.html";
        });

        $("#p1_enter_btn").hover(function () {
            $(this).css("background-color", "#E6E6E6");
            $(this).css("color", "black");
            $("#p1_enter_btn img").attr('src', "./includes/images/arrow_left_black.png");
        }, function () {
            $(this).css("background-color", "black");
            $(this).css("color", "#E6E6E6");
            $("#p1_enter_btn img").attr('src', "./includes/images/arrow_left_grey.png");
        });

        $("#p2_enter_btn").hover(function () {
            $(this).css("background-color", "black");
            $(this).css("color", "#F15A24");
            $(this).css({
                "border-color": "#F15A24",
                "border-width": "1px",
                "border-style": "solid"
            });
            $("#p2_enter_btn img").attr('src', "./includes/images/arrow_left_orange.png");
        }, function () {
            $(this).css("background-color", "#F15A24");
            $(this).css("color", "black");
            $("#p2_enter_btn img").attr('src', "./includes/images/arrow_left_black.png");
        });


        // Êó•ÊúüÈÄâÊã©Âô®ÂàùÂßãÂåñ
        function initDatePicker() {
            var currentYear = new Date().getFullYear();
            var startYear = currentYear - 100; // 100Âπ¥Ââç
            var endYear = currentYear;
            
            // ÂàùÂßãÂåñÂπ¥‰ªΩ
            var yearItems = $('#year_items');
            for (var y = endYear; y >= startYear; y--) {
                yearItems.append('<div class="picker-item" data-value="' + y + '">' + y + '</div>');
            }
            
            // ÂàùÂßãÂåñÊúà‰ªΩ
            var monthItems = $('#month_items');
            for (var m = 1; m <= 12; m++) {
                monthItems.append('<div class="picker-item" data-value="' + m + '">' + m + '</div>');
            }
            
            // ÂàùÂßãÂåñÊó•ÊúüÔºàÈªòËÆ§31Â§©Ôºå‰ºöÊ†πÊçÆÂπ¥ÊúàÂä®ÊÄÅÊõ¥Êñ∞Ôºâ
            updateDayPicker(31);
            
            // ËÆæÁΩÆÈªòËÆ§ÂÄºÔºàÂΩìÂâçÊó•ÊúüÔºâ
            var today = new Date();
            setPickerValue('year', today.getFullYear());
            setPickerValue('month', today.getMonth() + 1);
            setPickerValue('day', today.getDate());
            updateBirthValue();
            
            // ÁªëÂÆöÊªëÂä®‰∫ã‰ª∂
            initPickerWheel('year');
            initPickerWheel('month');
            initPickerWheel('day');
        }
        
        function updateDayPicker(maxDays) {
            var dayItems = $('#day_items');
            dayItems.empty();
            for (var d = 1; d <= maxDays; d++) {
                dayItems.append('<div class="picker-item" data-value="' + d + '">' + d + '</div>');
            }
            // ÈáçÊñ∞ÁªëÂÆöÊªëÂä®‰∫ã‰ª∂
            initPickerWheel('day');
            // Á°Æ‰øùÂΩìÂâçÈÄâ‰∏≠ÁöÑÊó•ÊúüÂú®ËåÉÂõ¥ÂÜÖ
            var currentDay = parseInt($('#day_picker .picker-item.selected').attr('data-value') || '1');
            if (currentDay > maxDays) {
                setPickerValue('day', maxDays);
            } else {
                setPickerValue('day', currentDay);
            }
        }
        
        function getDaysInMonth(year, month) {
            return new Date(year, month, 0).getDate();
        }
        
        // Ëé∑ÂèñÂä®ÊÄÅÁöÑitemÈ´òÂ∫¶
        function getItemHeight(picker) {
            var firstItem = picker.find('.picker-item').first();
            if (firstItem.length) {
                return firstItem.outerHeight() || parseInt(firstItem.css('height')) || 50;
            }
            // Ê†πÊçÆÂ±èÂπïÂÆΩÂ∫¶ËøîÂõûÈªòËÆ§ÂÄº
            if ($(window).width() <= 480) {
                return 35;
            } else if ($(window).width() <= 768) {
                return 40;
            }
            return 50;
        }
        
        function setPickerValue(type, value) {
            var picker = $('#' + type + '_picker');
            var items = picker.find('.picker-item');
            var targetIndex = -1;
            
            items.each(function(index) {
                if (parseInt($(this).attr('data-value')) === value) {
                    targetIndex = index;
                    return false;
                }
            });
            
            if (targetIndex >= 0) {
                var itemHeight = getItemHeight(picker);
                var offset = (picker.height() / 2) - (itemHeight / 2) - (targetIndex * itemHeight);
                picker.find('.picker-items').css('transform', 'translateY(' + offset + 'px)');
                
                // Êõ¥Êñ∞ÈÄâ‰∏≠Áä∂ÊÄÅ
                items.removeClass('selected');
                items.eq(targetIndex).addClass('selected');
            }
        }
        
        function getPickerValue(type) {
            var selected = $('#' + type + '_picker .picker-item.selected');
            if (selected.length) {
                return parseInt(selected.attr('data-value'));
            }
            // Â¶ÇÊûúÊ≤°ÊúâÈÄâ‰∏≠È°πÔºåËÆ°ÁÆó‰∏≠Èó¥‰ΩçÁΩÆÁöÑÂÄº
            var picker = $('#' + type + '_picker');
            var items = picker.find('.picker-item');
            var itemHeight = getItemHeight(picker);
            var pickerHeight = picker.height();
            var centerY = pickerHeight / 2;
            var transform = picker.find('.picker-items').css('transform');
            var translateY = 0;
            
            if (transform && transform !== 'none') {
                var matrix = transform.match(/matrix.*\((.+)\)/);
                if (matrix) {
                    translateY = parseFloat(matrix[1].split(',')[5] || 0);
                }
            }
            
            var relativeY = centerY - translateY;
            var index = Math.round(relativeY / itemHeight);
            index = Math.max(0, Math.min(index, items.length - 1));
            
            return parseInt(items.eq(index).attr('data-value'));
        }
        
        function updateBirthValue() {
            var year = getPickerValue('year');
            var month = getPickerValue('month');
            var day = getPickerValue('day');
            
            // Êõ¥Êñ∞Êó•ÊúüÈÄâÈ°πÔºàÊ†πÊçÆÂπ¥ÊúàÔºâ
            var maxDays = getDaysInMonth(year, month);
            var currentDayItems = $('#day_items .picker-item').length;
            if (currentDayItems !== maxDays) {
                updateDayPicker(maxDays);
            }
            
            // Á°Æ‰øùÊó•ÊúüÂú®ÊúâÊïàËåÉÂõ¥ÂÜÖ
            if (day > maxDays) {
                setPickerValue('day', maxDays);
                day = maxDays;
            }
            
            // Ê†ºÂºèÂåñ‰∏∫ YYYY-MM-DD
            var monthStr = month < 10 ? '0' + month : month;
            var dayStr = day < 10 ? '0' + day : day;
            $('#user_birth').val(year + '-' + monthStr + '-' + dayStr);
        }
        
        function initPickerWheel(type) {
            var picker = $('#' + type + '_picker');
            var items = picker.find('.picker-items');
            var isDragging = false;
            var startY = 0;
            var startTranslate = 0;
            var pickerHeight = picker.height();
            var minTranslate = 0;
            var maxTranslate = 0;
            
            function updateBounds() {
                var itemHeight = getItemHeight(picker);
                var itemCount = items.find('.picker-item').length;
                var totalHeight = itemCount * itemHeight;
                var centerOffset = (pickerHeight / 2) - (itemHeight / 2);
                minTranslate = pickerHeight - totalHeight + centerOffset;
                maxTranslate = centerOffset;
            }
            
            updateBounds();
            
            function snapToNearest() {
                var itemHeight = getItemHeight(picker);
                var currentTransform = items.css('transform');
                var translateY = 0;
                
                if (currentTransform && currentTransform !== 'none') {
                    var matrix = currentTransform.match(/matrix.*\((.+)\)/);
                    if (matrix) {
                        translateY = parseFloat(matrix[1].split(',')[5] || 0);
                    }
                }
                
                var centerY = pickerHeight / 2;
                var relativeY = centerY - translateY;
                var index = Math.round(relativeY / itemHeight);
                var itemCount = items.find('.picker-item').length;
                index = Math.max(0, Math.min(index, itemCount - 1));
                
                var targetTranslate = (pickerHeight / 2) - (itemHeight / 2) - (index * itemHeight);
                targetTranslate = Math.max(minTranslate, Math.min(maxTranslate, targetTranslate));
                
                items.css('transition', 'transform 0.3s ease-out');
                items.css('transform', 'translateY(' + targetTranslate + 'px)');
                
                // Êõ¥Êñ∞ÈÄâ‰∏≠Áä∂ÊÄÅ
                setTimeout(function() {
                    items.find('.picker-item').removeClass('selected');
                    items.find('.picker-item').eq(index).addClass('selected');
                    
                    // Êõ¥Êñ∞ÈöêËóèËæìÂÖ•Ê°ÜÁöÑÂÄº
                    if (type === 'year' || type === 'month') {
                        updateDayPicker(getDaysInMonth(getPickerValue('year'), getPickerValue('month')));
                    }
                    updateBirthValue();
                }, 300);
            }
            
            // Èº†Ê†á‰∫ã‰ª∂
            picker.on('mousedown', function(e) {
                isDragging = true;
                startY = e.clientY;
                var currentTransform = items.css('transform');
                if (currentTransform && currentTransform !== 'none') {
                    var matrix = currentTransform.match(/matrix.*\((.+)\)/);
                    if (matrix) {
                        startTranslate = parseFloat(matrix[1].split(',')[5] || 0);
                    }
                }
                items.css('transition', 'none');
                e.preventDefault();
            });
            
            $(document).on('mousemove', function(e) {
                if (!isDragging) return;
                var deltaY = e.clientY - startY;
                var newTranslate = startTranslate + deltaY;
                newTranslate = Math.max(minTranslate, Math.min(maxTranslate, newTranslate));
                items.css('transform', 'translateY(' + newTranslate + 'px)');
            });
            
            $(document).on('mouseup', function() {
                if (isDragging) {
                    isDragging = false;
                    snapToNearest();
                }
            });
            
            // Ëß¶Êë∏‰∫ã‰ª∂
            picker.on('touchstart', function(e) {
                isDragging = true;
                startY = e.touches[0].clientY;
                var currentTransform = items.css('transform');
                if (currentTransform && currentTransform !== 'none') {
                    var matrix = currentTransform.match(/matrix.*\((.+)\)/);
                    if (matrix) {
                        startTranslate = parseFloat(matrix[1].split(',')[5] || 0);
                    }
                }
                items.css('transition', 'none');
                e.preventDefault();
            });
            
            $(document).on('touchmove', function(e) {
                if (!isDragging) return;
                var deltaY = e.touches[0].clientY - startY;
                var newTranslate = startTranslate + deltaY;
                newTranslate = Math.max(minTranslate, Math.min(maxTranslate, newTranslate));
                items.css('transform', 'translateY(' + newTranslate + 'px)');
                e.preventDefault();
            });
            
            $(document).on('touchend', function() {
                if (isDragging) {
                    isDragging = false;
                    snapToNearest();
                }
            });
            
            // ÊªöËΩÆ‰∫ã‰ª∂
            picker.on('wheel', function(e) {
                e.preventDefault();
                var delta = e.originalEvent.deltaY;
                var currentTransform = items.css('transform');
                var translateY = 0;
                
                if (currentTransform && currentTransform !== 'none') {
                    var matrix = currentTransform.match(/matrix.*\((.+)\)/);
                    if (matrix) {
                        translateY = parseFloat(matrix[1].split(',')[5] || 0);
                    }
                }
                
                var newTranslate = translateY + delta * 0.5;
                newTranslate = Math.max(minTranslate, Math.min(maxTranslate, newTranslate));
                
                items.css('transition', 'transform 0.1s ease-out');
                items.css('transform', 'translateY(' + newTranslate + 'px)');
                
                clearTimeout(picker.data('snapTimeout'));
                picker.data('snapTimeout', setTimeout(snapToNearest, 150));
            });
        }
        
        // ÂàùÂßãÂåñÊó•ÊúüÈÄâÊã©Âô®
        initDatePicker();
        
        // Á™óÂè£Â§ßÂ∞èÊîπÂèòÊó∂ÈáçÊñ∞ËÆ°ÁÆóÔºàÁî®‰∫éÂ±èÂπïÊóãËΩ¨Á≠âÊÉÖÂÜµÔºâ
        var resizeTimer;
        $(window).on('resize', function() {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(function() {
                // ÈáçÊñ∞ËÆæÁΩÆÂΩìÂâçÂÄº‰ª•Ëß¶ÂèëÈáçÊñ∞ËÆ°ÁÆó
                var year = getPickerValue('year');
                var month = getPickerValue('month');
                var day = getPickerValue('day');
                setPickerValue('year', year);
                setPickerValue('month', month);
                setPickerValue('day', day);
            }, 300);
        });
        
        // ÊòæÁ§∫ËæìÂÖ•Ë°®Âçï
        $("#p1_enter_btn").click(function () {
            $("#page1").hide();
            $("#page0").show();
        });

        // Êèê‰∫§Ë°®ÂçïÂπ∂ÂºÄÂßãÂç†ÂçúÊµÅÁ®ã
        $("#p0_enter_btn").click(function () {
            var userName = $("#user_name").val().trim();
            var userBirth = $("#user_birth").val();
            var userQuestion = $("#user_question").val().trim();

            if (!userName || !userBirth || !userQuestion) {
                alert("ËØ∑Â°´ÂÜôÂÆåÊï¥‰ø°ÊÅØ");
                return;
            }

            // ÊòæÁ§∫Âä†ËΩΩÁä∂ÊÄÅ
            $("#p0_loading").show();
            $("#p0_enter_btn").hide();

            // Ë∞ÉÁî®ÂêéÁ´Ø API È¢ÑÊäΩÁâå
            fetch("/api/precards")
                .then(res => res.json())
                .then(data => {
                    // ‰øùÂ≠òÁî®Êà∑‰ø°ÊÅØÂíåÈ¢ÑÊäΩÁâåÂà∞ localStorageÔºàÁ°Æ‰øùÊï∞ÊçÆÊ≠£Á°ÆÔºâ
                    var userData = {
                        name: userName,
                        birth: userBirth,
                        question: userQuestion,
                        preparedCards: data.cards || []
                    };
                    
                    // Ë∞ÉËØïÔºöÊâìÂç∞‰øùÂ≠òÁöÑÊï∞ÊçÆ
                    console.log("‰øùÂ≠òÁöÑÁî®Êà∑Êï∞ÊçÆ:", userData);
                    localStorage.setItem("tarotUserData", JSON.stringify(userData));
                    
                    // È™åËØÅ‰øùÂ≠òÊòØÂê¶ÊàêÂäü
                    var saved = JSON.parse(localStorage.getItem("tarotUserData"));
                    console.log("È™åËØÅ‰øùÂ≠òÁöÑÊï∞ÊçÆ:", saved);
                    
                    // Ë∑≥ËΩ¨Âà∞ÁªìÊûúÈ°µ
                    window.location = "./prediction/17/index.html";
                })
                .catch(err => {
                    console.error("È¢ÑÊäΩÁâåÂ§±Ë¥•:", err);
                    alert("Ëé∑ÂèñÂ°îÁΩóÁâåÂ§±Ë¥•ÔºåËØ∑ÈáçËØï");
                    $("#p0_loading").hide();
                    $("#p0_enter_btn").show();
                });
        });


        $(document).keypress(function (e) {
            var keycode = (e.keyCode ? e.keyCode : e.which);
            if (keycode == '13') {
                event.preventDefault();
                // Trigger the button element with a click
                $("#p1_enter_btn").click();
            }
        });

        function validateEmail(email) {
            var re = /\S+@\S+\.\S+/;
            return re.test(email);
        }

        $("#p2_enter_btn").click(function () {
            var invitee_email = $("#invitee_email").val();
            var datastring = "email=" + invitee_email;

            if (validateEmail(invitee_email)) {

                $.ajax({
                    type: "POST",
                    url: "./email.php",
                    data: datastring,
                    /*dataType: "json",*/
                    success: function (data) {
                        console.log(data);

                        if (data == "success") {
                            $("#email_answer_text").text("Email Sent üôÇ");
                            $("#email_answer_div").show();
                            setTimeout(function () {
                                $("#email_answer_div").fadeOut("slow");
                            }, 1000);
                        } else {
                            console.log(
                                "There was a server side error , could not sent the email"
                            );
                        }

                    },
                    error: function (xhr, textStatus, errorThrown) {
                        console.log('Request Status: ' + xhr.status + ' Status Text: ' + xhr
                            .statusText + ' & ' + xhr.responseText + ' textStatus: ' +
                            textStatus + ' errorThrown ' + errorThrown);
                    }
                });
            } else {
                // email is not valid
                $("#email_answer_text").text("Email is not valid!");
                $("#email_answer_div").css("background", "red")
                $("#email_answer_div").show();
                setTimeout(function () {
                    $("#email_answer_div").fadeOut("slow");
                }, 1000);
            }

            $(".icons").click(function () {
                location.reload();
            });

            $("#title_colored").click(function () {
                location.reload();
            });


        });

    });
</script>

</html>